{"version":3,"sources":["Dashboard/Dashboard.module.css","Controls/Controls.module.css","Balance/Balance.module.css","TransactionHistory/TransactionHistory.module.css","Controls/Controls.jsx","Balance/Balance.jsx","TransactionHistory/TransactionHistory.jsx","Dashboard/Dashboard.jsx","App/App.jsx","index.js","App/App.module.css"],"names":["module","exports","Controls","inputAmount","onDeposit","onWithdraw","onChangeInput","className","styles","controls","type","name","value","onChange","onClick","Balance","transactions","balance","income","expenses","length","TransactionHistory","items","history","map","item","key","id","amount","date","Dashboard","state","Money","transacs","reduce","acc","transaction","deposit","withdraw","notifyInvalid","toast","props","messageInvalidAmount","position","POSITION","TOP_CENTER","notifyNotEnough","messageNotEnoughMoney","handleInputText","e","setState","currentTarget","reset","handleDepositWithdraw","target","prevState","Number","parseInt","Date","toLocaleString","shortid","generate","handleDeposit","handleWithdraw","locale","localStorage","getItem","score","this","JSON","parse","error","prevProps","setItem","stringify","depWit","dashboard","undefined","Component","defaultProps","App","app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.78fc68fc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__klLhM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__25l01\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__2wCfH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"TransactionHistory_history__3z1Kd\"};","import React from 'react';\r\n\r\nimport styles from './Controls.module.css';\r\n\r\nconst Controls = ({ inputAmount, onDeposit, onWithdraw, onChangeInput }) => {\r\n  return (\r\n    <section className={styles.controls}>\r\n      <input\r\n        type=\"number\"\r\n        name=\"amount\"\r\n        value={inputAmount}\r\n        onChange={onChangeInput}\r\n      />\r\n      <button type=\"button\" name=\"deposit\" onClick={onDeposit}>\r\n        Deposit\r\n      </button>\r\n      <button type=\"button\" name=\"withdraw\" onClick={onWithdraw}>\r\n        Withdraw\r\n      </button>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Controls;\r\n","import React from 'react';\r\n\r\nimport styles from './Balance.module.css';\r\n\r\nconst Balance = ({ transactions, balance, income, expenses }) => {\r\n  return (\r\n    <section className={styles.balance}>\r\n      {transactions.length > 0 ? (\r\n        <>\r\n          <span>⬆️{income}$</span>\r\n          <span>⬇️{expenses}$</span>\r\n          <span>Balance: {balance}$</span>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <span>⬆️0$</span>\r\n          <span>⬇️0$</span>\r\n          <span>Balance: 0$</span>\r\n        </>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Balance;\r\n","import React from 'react';\r\n\r\nimport styles from './TransactionHistory.module.css';\r\n\r\nconst TransactionHistory = ({ items }) => {\r\n  return (\r\n    <table className={styles.history}>\r\n      <thead>\r\n        <tr>\r\n          <th>Transaction</th>\r\n          <th>Amount</th>\r\n          <th>Date</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {items.map(item => (\r\n          <tr key={item.id}>\r\n            <td>{item.type}</td>\r\n            <td>{item.amount}$</td>\r\n            <td>{item.date}</td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\nexport default TransactionHistory;\r\n","import React, { Component } from 'react';\r\nimport T from 'prop-types';\r\nimport shortid from 'shortid';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport styles from './Dashboard.module.css';\r\nimport Controls from '../Controls/Controls';\r\nimport Balance from '../Balance/Balance';\r\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\r\n\r\nexport default class Dashboard extends Component {\r\n  static defaultProps = {\r\n    id: shortid.generate(),\r\n    type: '',\r\n    amount: 0,\r\n    date: new Date().toLocaleString(),\r\n    messageNotEnoughMoney:\r\n      'На счету недостаточно средств для проведения операции!',\r\n    messageInvalidAmount: 'Введите сумму для проведения операции!',\r\n  };\r\n\r\n  static propTypes = {\r\n    id: T.string,\r\n    type: T.string,\r\n    amount: T.number,\r\n    date: T.string,\r\n    messageNotEnoughMoney: T.string,\r\n    messageInvalidAmount: T.string,\r\n  };\r\n\r\n  state = {\r\n    transactions: [],\r\n    balance: 0,\r\n  };\r\n\r\n  componentDidMount() {\r\n    try {\r\n      const locale = localStorage.getItem('history');\r\n      const score = localStorage.getItem('balance');\r\n      if (locale && score) {\r\n        this.setState({\r\n          transactions: JSON.parse(locale),\r\n          balance: JSON.parse(score),\r\n        });\r\n      }\r\n    } catch (error) {}\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { transactions, balance } = this.state;\r\n    try {\r\n      if (prevState.transactions === transactions) {\r\n        localStorage.setItem('history', JSON.stringify(transactions));\r\n        localStorage.setItem('balance', JSON.stringify(balance));\r\n      }\r\n    } catch (error) {}\r\n  }\r\n\r\n  Money = transacs => {\r\n    return transacs.reduce(\r\n      (acc, transaction) => {\r\n        return {\r\n          ...acc,\r\n          [transaction.type]: transaction.amount + acc[transaction.type],\r\n        };\r\n      },\r\n      { deposit: 0, withdraw: 0 },\r\n    );\r\n  };\r\n\r\n  notifyInvalid = () =>\r\n    toast(this.props.messageInvalidAmount, {\r\n      position: toast.POSITION.TOP_CENTER,\r\n    });\r\n\r\n  notifyNotEnough = () =>\r\n    toast(this.props.messageNotEnoughMoney, {\r\n      position: toast.POSITION.TOP_CENTER,\r\n    });\r\n\r\n  handleInputText = e => {\r\n    this.setState({\r\n      inputAmount: e.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({\r\n      inputAmount: '',\r\n    });\r\n  };\r\n\r\n  handleDepositWithdraw = ({ target: { name } }) => {\r\n    const { inputAmount } = this.state;\r\n    this.setState(prevState => ({\r\n      balance:\r\n        name === 'deposit'\r\n          ? prevState.balance + Number.parseInt(inputAmount)\r\n          : prevState.balance - Number.parseInt(inputAmount),\r\n\r\n      transactions: (this.state.transactions = [\r\n        ...this.state.transactions,\r\n        {\r\n          type: name,\r\n          amount: Number.parseInt(inputAmount),\r\n          date: new Date().toLocaleString(),\r\n          id: shortid.generate(),\r\n        },\r\n      ]),\r\n    }));\r\n    this.reset();\r\n  };\r\n\r\n  handleDeposit = ({ target: { name } }) => {\r\n    return this.state.inputAmount > 0\r\n      ? this.handleDepositWithdraw({ target: { name } })\r\n      : (this.reset(), this.notifyInvalid());\r\n  };\r\n\r\n  handleWithdraw = ({ target: { name } }) => {\r\n    const { inputAmount, balance } = this.state;\r\n    return inputAmount === '0' || inputAmount === '' || inputAmount < 0\r\n      ? (this.notifyInvalid(), this.reset())\r\n      : inputAmount >= 0 && inputAmount <= balance\r\n      ? this.handleDepositWithdraw({ target: { name } })\r\n      : (this.notifyNotEnough(), this.reset());\r\n  };\r\n\r\n  render() {\r\n    const depWit = this.Money(this.state.transactions);\r\n    const { inputAmount, transactions, balance } = this.state;\r\n    return (\r\n      <div className={styles.dashboard}>\r\n        <Controls\r\n          inputAmount={inputAmount}\r\n          onChangeInput={this.handleInputText}\r\n          onDeposit={this.handleDeposit}\r\n          onWithdraw={this.handleWithdraw}\r\n        />\r\n        <Balance\r\n          transactions={transactions}\r\n          balance={balance}\r\n          income={depWit !== undefined ? depWit.deposit : '0'}\r\n          expenses={depWit !== undefined ? depWit.withdraw : '0'}\r\n        />\r\n        <TransactionHistory items={transactions} />\r\n        <ToastContainer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport styles from './App.module.css';\r\n\r\nimport Dashboard from '../Dashboard/Dashboard';\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className={styles.app}>\r\n      <Dashboard />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__BWcOf\"};"],"sourceRoot":""}